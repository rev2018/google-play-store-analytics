<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Google Play Store Data Analysis</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9f9fb;
      margin: 0;
      padding: 0 20px;
    }
    header {
      text-align: center;
      padding: 2rem 0;
    }
    h1 {
      margin-bottom: 0.5rem;
    }
    section {
      margin: 2rem 0;
    }
    .chart-container {
      margin-top: 1rem;
    }
    footer {
      text-align: center;
      margin-top: 3rem;
      padding: 2rem;
      background-color: #eee;
    }
    a {
      color: #0077cc;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <header>
    <h1>üì± Google Play Store Data Analysis</h1>
    <p>This dashboard analyzes the Google Play Store dataset and provides visual insights into app categories, ratings, reviews, and installations.</p>
  </header>

  <section>
    <h2>üìä Distribution of App Ratings</h2>
    <div id="ratingDist" class="chart-container"></div>
  </section>

  <section>
    <h2>üèÜ Top Categories by Number of Apps</h2>
    <div id="topCategories" class="chart-container"></div>
  </section>

  <section>
    <h2>‚≠ê Average Rating by Category</h2>
    <div id="avgRatingCat" class="chart-container"></div>
  </section>

  <section>
    <h2>üì• Most Installed Apps</h2>
    <div id="mostInstalled" class="chart-container"></div>
  </section>

  <section>
    <h2>üí∞ Price Distribution of Paid Apps</h2>
    <div id="priceDist" class="chart-container"></div>
  </section>

  <footer>
    <p>Created with ‚ù§Ô∏è by <a href="https://www.linkedin.com/in/reva-saxena-61bb33342/" target="_blank">Reva</a></p>
  </footer>

  <script>
    // Load data from CSV
    async function loadData() {
      const response = await fetch("https://raw.githubusercontent.com/rev2018/google-play-store-analytics/main/googleplaystore.csv");
      const data = await response.text();
      const rows = data.split("\n").slice(1).map(row => row.split(","));

      const headers = ["App", "Category", "Rating", "Reviews", "Size", "Installs", "Type", "Price", "Content Rating", "Genres", "Last Updated", "Current Ver", "Android Ver"];

      return rows.map(r => Object.fromEntries(headers.map((h, i) => [h, r[i]])));
    }

    loadData().then(data => {
      // Clean and parse data
      data = data.filter(d => d.Rating && !isNaN(d.Rating) && d.Installs && !isNaN(d.Rating));
      data.forEach(d => {
        d.Rating = +d.Rating;
        d.Installs = parseInt(d.Installs.replace(/\+|,/g, '')) || 0;
        d.Price = parseFloat(d.Price?.replace('$', '')) || 0;
      });

      // Chart 1: Rating Distribution
      const ratings = data.map(d => d.Rating);
      const ratingTrace = {
        x: ratings,
        type: "histogram",
        marker: { color: "#7f7fff" }
      };
      Plotly.newPlot("ratingDist", [ratingTrace], { title: "Distribution of Ratings" });

      // Chart 2: Top Categories
      const catCounts = {};
      data.forEach(d => catCounts[d.Category] = (catCounts[d.Category] || 0) + 1);
      const sortedCats = Object.entries(catCounts).sort((a, b) => b[1] - a[1]).slice(0, 10);
      const catTrace = {
        x: sortedCats.map(d => d[0]),
        y: sortedCats.map(d => d[1]),
        type: "bar",
        marker: { color: "#00bfa6" }
      };
      Plotly.newPlot("topCategories", [catTrace], { title: "Top 10 Categories by App Count" });

      // Chart 3: Average Rating by Category
      const ratingsByCat = {};
      const countByCat = {};
      data.forEach(d => {
        if (!ratingsByCat[d.Category]) {
          ratingsByCat[d.Category] = 0;
          countByCat[d.Category] = 0;
        }
        ratingsByCat[d.Category] += d.Rating;
        countByCat[d.Category]++;
      });
      const avgRatingCat = Object.entries(ratingsByCat).map(([cat, total]) => [cat, total / countByCat[cat]]);
      const topAvgRating = avgRatingCat.sort((a, b) => b[1] - a[1]).slice(0, 10);
      const ratingCatTrace = {
        x: topAvgRating.map(d => d[0]),
        y: topAvgRating.map(d => d[1]),
        type: "bar",
        marker: { color: "#ff6f61" }
      };
      Plotly.newPlot("avgRatingCat", [ratingCatTrace], { title: "Top 10 Categories by Avg Rating" });

      // Chart 4: Most Installed Apps
      const topInstalled = [...data].sort((a, b) => b.Installs - a.Installs).slice(0, 10);
      const installedTrace = {
        x: topInstalled.map(d => d.App),
        y: topInstalled.map(d => d.Installs),
        type: "bar",
        marker: { color: "#ffa600" }
      };
      Plotly.newPlot("mostInstalled", [installedTrace], { title: "Top 10 Most Installed Apps" });

      // Chart 5: Price Distribution
      const paidApps = data.filter(d => d.Type === 'Paid' && d.Price <= 100);
      const priceTrace = {
        x: paidApps.map(d => d.Price),
        type: "histogram",
        marker: { color: "#ffb703" }
      };
      Plotly.newPlot("priceDist", [priceTrace], { title: "Price Distribution (Paid Apps under $100)" });
    });
  </script>
</body>
</html>

